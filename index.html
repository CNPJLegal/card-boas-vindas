<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Card de Boas-Vindas</title>
  <style>
    body {
      background-color: #111;
      font-family: Arial, sans-serif;
      color: white;
      text-align: center;
      padding: 20px;
    }
    .container {
      background-color: #000;
      border-radius: 16px;
      padding: 20px;
      max-width: 440px;
      margin: auto;
    }
    h1 {
      color: #00e500;
    }
    input[type="file"], input[type="text"] {
      width: 95%;
      padding: 10px;
      margin: 10px 0;
      font-size: 16px;
      border-radius: 6px;
      border: none;
    }
    button {
      padding: 12px 20px;
      margin: 10px 5px;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
    }
    .ver {
      background-color: #007bff;
      color: white;
    }
    .baixar {
      background-color: #00e500;
      color: black;
    }
    #preview img {
      margin-top: 20px;
      width: 100%;
      border-radius: 20px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Gerar Card de Boas-Vindas</h1>
    <p style="color: #ccc; font-size: 14px;">
      Insira a foto personalizada e o nome do Embaixador.<br>
      Ap√≥s o download, envie no grupo marcando o novo embaixador.
    </p>
    <input type="file" id="fotoInput" accept="image/*"><br>
    <input type="text" id="nomeInput" placeholder="Nome do Embaixador"><br>
    <button class="ver" onclick="visualizarCard()">üëÅÔ∏è Visualizar</button>
    <button class="baixar" onclick="baixarCard()">üì• Baixar</button>
    <div id="preview"></div>
    <canvas id="canvas" width="1080" height="1350" style="display:none;"></canvas>
  </div>

  <script>
    const mensagens = [
      `[nome], √© uma conquista ter voc√™ fazendo parte do time do CNPJ Legal.\n\nSua chegada representa um refor√ßo importante para a miss√£o de apoiar e transformar a vida de quem empreende no Brasil. üíºüíô\n\nCom dedica√ß√£o e atitude, temos certeza de que voc√™ contribuir√° de forma significativa com solu√ß√µes que fazem a diferen√ßa na pr√°tica. üöÄ\n\n**Seguimos juntos, somando for√ßas para facilitar e valorizar o empreendedorismo de verdade!**`,
      `[nome], √© uma satisfa√ß√£o imensa ter voc√™ com a gente no time do CNPJ Legal.\n\nVoc√™ agora faz parte de uma jornada que conecta pessoas, resolve problemas reais e impulsiona neg√≥cios locais. üíºüíô\n\nCom seu envolvimento, vamos alcan√ßar ainda mais resultados e gerar impacto onde mais importa. üöÄ\n\n**Seguimos juntos, transformando ideias em oportunidades concretas para quem empreende!**`,
      `[nome], que alegria contar com voc√™ ao nosso lado no CNPJ Legal.\n\nSua presen√ßa fortalece o compromisso com quem est√° buscando crescer, regularizar e transformar seu neg√≥cio. üíºüíô\n\nSabemos que, com sua dedica√ß√£o, vamos alcan√ßar ainda mais pessoas com informa√ß√£o e apoio de verdade. üöÄ\n\n**Seguimos juntos, com prop√≥sito e a√ß√£o!**`,
      `[nome], √© um prazer enorme ter voc√™ fazendo parte dessa constru√ß√£o com o CNPJ Legal.\n\nEstamos criando caminhos mais acess√≠veis e seguros para quem escolheu empreender. üíºüíô\n\nSua contribui√ß√£o ser√° essencial para orientar, acolher e facilitar decis√µes importantes para milhares de pessoas. üöÄ\n\n**Seguimos juntos nessa miss√£o de transformar vidas com simplicidade e verdade!**`,
      `[nome], ter voc√™ no time do CNPJ Legal √© um passo importante na nossa caminhada.\n\nEstamos ampliando o impacto, levando solu√ß√µes reais para quem precisa tirar a ideia do papel ou sair da informalidade. üíºüíô\n\nCom sua presen√ßa, vamos alcan√ßar ainda mais empreendedores com suporte direto e acess√≠vel. üöÄ\n\n**Seguimos juntos, levando praticidade e clareza para quem quer crescer!**`,
      `[nome], √© uma satisfa√ß√£o enorme contar com voc√™ no CNPJ Legal.\n\nEstamos aqui para caminhar ao lado de quem constr√≥i o pr√≥prio futuro e precisa de apoio pr√°tico para seguir. üíºüíô\n\nCom seu olhar e dedica√ß√£o, vamos ampliar o acesso a solu√ß√µes que fazem a diferen√ßa. üöÄ\n\n**Seguimos juntos com prop√≥sito, coragem e impacto!**`,
      `[nome], sua chegada representa mais for√ßa e mais alcance para a miss√£o do CNPJ Legal.\n\nNosso trabalho √© transformar o dif√≠cil em poss√≠vel para quem est√° empreendendo no Brasil. üíºüíô\n\nAcreditamos que, com voc√™, vamos chegar ainda mais longe, com acolhimento e orienta√ß√£o pr√°tica. üöÄ\n\n**Seguimos juntos para tornar o caminho mais leve e seguro para quem empreende.**`,
      `[nome], √© muito bom ter voc√™ no time que est√° fazendo a diferen√ßa com o CNPJ Legal.\n\nSeu papel √© essencial nessa caminhada de apoiar quem precisa formalizar, organizar e crescer com seguran√ßa. üíºüíô\n\nEstamos certos de que sua contribui√ß√£o ser√° sentida na ponta, onde as solu√ß√µes precisam chegar. üöÄ\n\n**Seguimos juntos, com responsabilidade e a√ß√£o!**`,
      `[nome], √© um privil√©gio contar com sua presen√ßa no CNPJ Legal.\n\nVoc√™ agora faz parte de uma rede que acredita no empreendedorismo como for√ßa de transforma√ß√£o. üíºüíô\n\nCom sua dedica√ß√£o, vamos entregar apoio de verdade para quem est√° dando seus primeiros passos ‚Äî ou recome√ßando. üöÄ\n\n**Seguimos juntos nessa jornada com seriedade e entusiasmo!**`,
      `[nome], estamos muito felizes em ter voc√™ com a gente nessa miss√£o com o CNPJ Legal.\n\nCada pessoa no time amplia o nosso alcance e fortalece nosso prop√≥sito de simplificar a vida de quem empreende. üíºüíô\n\nCom voc√™, seguimos oferecendo orienta√ß√£o clara, acess√≠vel e humanizada. üöÄ\n\n**Seguimos juntos, com foco em quem faz o Brasil acontecer!**`,
      `[nome], sua presen√ßa aqui significa mais impacto, mais conex√£o e mais transforma√ß√£o.\n\nNo CNPJ Legal, acreditamos que o apoio certo pode mudar a trajet√≥ria de quem empreende. üíºüíô\n\nCom voc√™ no time, vamos descomplicar, acolher e orientar com efici√™ncia e proximidade. üöÄ\n\n**Seguimos juntos nessa caminhada com verdade e prop√≥sito!**`,
      `[nome], √© uma satisfa√ß√£o ter voc√™ com a gente nessa miss√£o pelo CNPJ Legal.\n\nEstamos construindo uma base s√≥lida de apoio para quem precisa regularizar e crescer com seguran√ßa. üíºüíô\n\nCom sua participa√ß√£o, vamos levar orienta√ß√£o e solu√ß√µes para quem mais precisa. üöÄ\n\n**Seguimos juntos, com clareza, responsabilidade e impacto real!**`,
      `[nome], √© inspirador ter voc√™ conosco no CNPJ Legal.\n\nNosso trabalho s√≥ faz sentido quando conseguimos chegar at√© quem est√° buscando orienta√ß√£o e apoio para empreender. üíºüíô\n\nCom voc√™, vamos ampliar essa rede de transforma√ß√£o, com foco em solu√ß√µes pr√°ticas. üöÄ\n\n**Seguimos juntos, passo a passo, lado a lado com quem precisa!**`,
      `[nome], sua entrada no time representa mais um passo importante para o que estamos construindo com o CNPJ Legal.\n\nCada pessoa envolvida nessa miss√£o amplia o alcance e o poder de transforma√ß√£o do nosso trabalho. üíºüíô\n\nSabemos que sua participa√ß√£o ser√° fundamental para gerar impacto real. üöÄ\n\n**Seguimos juntos, sempre com prop√≥sito claro e foco em quem empreende!**`,
      `[nome], √© um grande refor√ßo ter voc√™ no time do CNPJ Legal.\n\nJuntos, estamos construindo solu√ß√µes que fazem sentido para quem precisa de apoio pr√°tico e direto. üíºüíô\n\nCom voc√™, vamos entregar mais acessibilidade, mais clareza e mais seguran√ßa para empreendedores de todo o pa√≠s. üöÄ\n\n**Seguimos juntos com responsabilidade e a√ß√£o!**`,
      `[nome], sua participa√ß√£o √© um marco importante para a expans√£o do nosso prop√≥sito no CNPJ Legal.\n\nEstamos felizes em contar com voc√™ nessa caminhada de apoio e transforma√ß√£o. üíºüíô\n\nCom sua dedica√ß√£o, podemos alcan√ßar ainda mais pessoas com solu√ß√µes que fazem a diferen√ßa. üöÄ\n\n**Seguimos juntos, com aten√ß√£o e compromisso com quem empreende!**`,
      `[nome], √© muito importante ter voc√™ com a gente nessa miss√£o que estamos realizando com o CNPJ Legal.\n\nNosso foco √© apoiar, orientar e simplificar a jornada de quem est√° empreendendo. üíºüíô\n\nCom sua presen√ßa, temos ainda mais for√ßa para fazer isso acontecer. üöÄ\n\n**Seguimos juntos para facilitar, fortalecer e transformar!**`,
      `[nome], sua presen√ßa no CNPJ Legal refor√ßa nossa ess√™ncia: estar perto de quem empreende e precisa de apoio.\n\nEstamos felizes por ter voc√™ com a gente nessa miss√£o. üíºüíô\n\nJuntos, vamos levar solu√ß√µes que impactam de verdade e ajudam a construir neg√≥cios mais s√≥lidos. üöÄ\n\n**Seguimos juntos com responsabilidade, entrega e prop√≥sito!**`,
      `[nome], √© uma satisfa√ß√£o caminhar ao seu lado nessa constru√ß√£o que √© o CNPJ Legal.\n\nVoc√™ soma √† nossa miss√£o de transformar burocracia em acesso e informa√ß√£o de qualidade. üíºüíô\n\nCom voc√™, nossa mensagem chega mais longe e com mais clareza para quem mais precisa. üöÄ\n\n**Seguimos juntos, com foco e inten√ß√£o em cada passo!**`,
      `[nome], ter voc√™ conosco representa mais que um refor√ßo ‚Äî √© um avan√ßo na miss√£o do CNPJ Legal.\n\nEstamos construindo algo grande com prop√≥sito e impacto. üíºüíô\n\nCom sua colabora√ß√£o, mais empreendedores ser√£o atendidos com seriedade, orienta√ß√£o e apoio verdadeiro. üöÄ\n\n**Seguimos juntos, prontos para transformar realidades e abrir novos caminhos!**`
    ];

    let foto = null;
    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d");
    const bg = new Image();
    bg.src = "https://i.imgur.com/lQD9FCf.jpeg";
    const logo = new Image();
    logo.src = "https://i.imgur.com/IstqqNl.png";

    document.getElementById("fotoInput").addEventListener("change", e => {
      const reader = new FileReader();
      reader.onload = evt => {
        foto = new Image();
        foto.onload = () => console.log("Foto carregada");
        foto.src = evt.target.result;
      };
      reader.readAsDataURL(e.target.files[0]);
    });

    async function desenharCard() {
      const nome = document.getElementById("nomeInput").value.trim();
      if (!foto || !nome) {
        alert("Insira a foto e o nome do Embaixador.");
        return null;
      }

      await Promise.all([
        new Promise(r => bg.complete ? r() : bg.onload = r),
        new Promise(r => logo.complete ? r() : logo.onload = r),
        new Promise(r => foto.complete ? r() : foto.onload = r)
      ]);

      const mensagem = mensagens[Math.floor(Math.random() * mensagens.length)].replaceAll("[nome]", nome);

      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.drawImage(bg, 0, 0, canvas.width, canvas.height);
      ctx.drawImage(logo, (canvas.width - 300) / 2, 30, 300, 90);

      const fsize = 320;
      ctx.save();
      ctx.beginPath();
      ctx.arc(540, 180 + fsize / 2, fsize / 2, 0, Math.PI * 2);
      ctx.clip();
      ctx.drawImage(foto, 540 - fsize / 2, 180, fsize, fsize);
      ctx.restore();

      ctx.font = "40px Arial";
      ctx.fillStyle = "rgba(255,255,255,0.5)";
      ctx.fillText("‚≠ë‚≠ë‚≠ë‚≠ë‚≠ë", canvas.width / 2, 180 + fsize + 50);

      const lines = mensagem.split("\n");
      let y = 180 + fsize + 100;

      ctx.fillStyle = "#00e500";
      ctx.font = "bold 26px Arial";
      ctx.fillText(lines[0], canvas.width / 2, y);
      y += 40;

      ctx.fillStyle = "#fff";
      ctx.font = "22px Arial";
      for (let i = 1; i < lines.length - 1; i++) {
        ctx.fillText(lines[i], canvas.width / 2, y);
        y += 30;
      }

      ctx.font = "bold 24px Arial";
      ctx.fillText(lines[lines.length - 1].replace(/\*\*/g, ""), canvas.width / 2, y + 10);

      ctx.fillStyle = "#00e500";
      ctx.fillRect(0, canvas.height - 100, canvas.width, 100);

      ctx.fillStyle = "#000";
      ctx.font = "bold 22px Arial";
      ctx.fillText("‚≠ê Parab√©ns!", canvas.width / 2, canvas.height - 60);
      ctx.font = "18px Arial";
      ctx.fillText("Voc√™ agora faz parte da ag√™ncia para MEIs mais legal do Brasil.", canvas.width / 2, canvas.height - 35);
      ctx.fillText("Fa√ßa vendas para conquistar sua estrela!", canvas.width / 2, canvas.height - 10);

      return canvas.toDataURL("image/png");
    }

    async function visualizarCard() {
      const dataURL = await desenharCard();
      if (!dataURL) return;

      const preview = document.getElementById("preview");
      preview.innerHTML = "";
      const img = new Image();
      img.src = dataURL;
      preview.appendChild(img);
    }

    async function baixarCard() {
      const dataURL = await desenharCard();
      if (!dataURL) return;
      const nome = document.getElementById("nomeInput").value.trim().replace(/\s+/g, "_");
      const link = document.createElement("a");
      link.href = dataURL;
      link.download = `card_boas_vindas_${nome || "embaixador"}.png`;
      link.click();
    }
  </script>
</body>
</html>
